{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gavri\\\\OneDrive\\\\Desktop\\\\My Projects\\\\full-metal-shows\\\\frontend\\\\src\\\\pages\\\\HomePage.js\",\n  _s = $RefreshSig$();\nimport '../styles/HomePage.css';\nimport SearchBox from \"../components/SearchBox\";\nimport DateBox from \"../components/DateBox\";\nimport FilterBox from \"../components/FilterBox\";\nimport ShowCard from '../components/ShowCard';\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction HomePage() {\n  _s();\n  const [shows, setShows] = useState([]);\n  const [filteredShows, setFilteredShows] = useState([]);\n  const [query, setQuery] = useState(\"\");\n  const [location, setLocation] = useState(\"\");\n  const [startDate, setStartDate] = useState(null);\n  const [endDate, setEndDate] = useState(null);\n  const [applyDates, setApplyDates] = useState(false); // 驻转专 驻注\n\n  useEffect(() => {\n    fetch(\"http://localhost:8081/api/shows\").then(res => res.json()).then(data => {\n      console.log(\"Fetched shows from backend:\", data); //   转拽 转 砖转 砖转\n      setShows(data);\n      setFilteredShows(data);\n    }).catch(err => console.error(\"Error fetching shows:\", err));\n  }, []);\n  useEffect(() => {\n    let results = shows;\n\n    // 驻砖 驻 砖 拽\n    if (query) {\n      results = results.filter(show => {\n        var _show$bandName;\n        return (_show$bandName = show.bandName) === null || _show$bandName === void 0 ? void 0 : _show$bandName.toLowerCase().includes(query.toLowerCase());\n      });\n    }\n\n    // 住 驻  (country)\n    if (location) {\n      results = results.filter(show => {\n        var _show$hall;\n        return ((_show$hall = show.hall) === null || _show$hall === void 0 ? void 0 : _show$hall.country) === location;\n      });\n    }\n\n    // 住 驻  转专 (驻注 专拽 专 驻转专)\n    if (applyDates && (startDate || endDate)) {\n      results = results.filter(show => {\n        const showDate = new Date(show.date);\n        if (startDate && showDate < startDate) return false;\n        if (endDate && showDate > endDate) return false;\n        return true;\n      });\n    }\n    setFilteredShows(results);\n  }, [query, location, startDate, endDate, applyDates, shows]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"HomePageContainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Welcome to the Home Page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-bar\",\n      children: [/*#__PURE__*/_jsxDEV(SearchBox, {\n        query: query,\n        setQuery: setQuery\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FilterBox, {\n        location: location,\n        setLocation: setLocation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DateBox, {\n        startDate: startDate,\n        endDate: endDate,\n        setStartDate: setStartDate,\n        setEndDate: setEndDate,\n        onApply: () => setApplyDates(!applyDates)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"shows-list\",\n      children: filteredShows.length > 0 ? filteredShows.map(show => /*#__PURE__*/_jsxDEV(ShowCard, {\n        ...show\n      }, show.showId, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No shows available\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(HomePage, \"EvrqIsrxcayP7kVxZ7XmigKHCss=\");\n_c = HomePage;\nexport default HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["SearchBox","DateBox","FilterBox","ShowCard","useEffect","useState","jsxDEV","_jsxDEV","HomePage","_s","shows","setShows","filteredShows","setFilteredShows","query","setQuery","location","setLocation","startDate","setStartDate","endDate","setEndDate","applyDates","setApplyDates","fetch","then","res","json","data","console","log","catch","err","error","results","filter","show","_show$bandName","bandName","toLowerCase","includes","_show$hall","hall","country","showDate","Date","date","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onApply","length","map","showId","_c","$RefreshReg$"],"sources":["C:/Users/gavri/OneDrive/Desktop/My Projects/full-metal-shows/frontend/src/pages/HomePage.js"],"sourcesContent":["import '../styles/HomePage.css';\r\nimport SearchBox from \"../components/SearchBox\";\r\nimport DateBox from \"../components/DateBox\";\r\nimport FilterBox from \"../components/FilterBox\";\r\nimport ShowCard from '../components/ShowCard';\r\nimport { useEffect, useState } from \"react\";\r\n\r\nfunction HomePage () {\r\n  const [shows, setShows] = useState([]);\r\n  const [filteredShows, setFilteredShows] = useState([]);\r\n\r\n  const [query, setQuery] = useState(\"\");\r\n  const [location, setLocation] = useState(\"\");\r\n  const [startDate, setStartDate] = useState(null);\r\n  const [endDate, setEndDate] = useState(null);\r\n  const [applyDates, setApplyDates] = useState(false); // 驻转专 驻注\r\n\r\n  useEffect(() => {\r\n    fetch(\"http://localhost:8081/api/shows\")\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        console.log(\"Fetched shows from backend:\", data); //   转拽 转 砖转 砖转\r\n        setShows(data);\r\n        setFilteredShows(data);\r\n      })\r\n      .catch(err => console.error(\"Error fetching shows:\", err));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let results = shows;\r\n\r\n    // 驻砖 驻 砖 拽\r\n    if (query) {\r\n      results = results.filter(show =>\r\n        show.bandName?.toLowerCase().includes(query.toLowerCase())\r\n      );\r\n    }\r\n\r\n    // 住 驻  (country)\r\n    if (location) {\r\n      results = results.filter(show =>\r\n        show.hall?.country === location\r\n      );\r\n    }\r\n\r\n    // 住 驻  转专 (驻注 专拽 专 驻转专)\r\n    if (applyDates && (startDate || endDate)) {\r\n      results = results.filter(show => {\r\n        const showDate = new Date(show.date);\r\n        if (startDate && showDate < startDate) return false;\r\n        if (endDate && showDate > endDate) return false;\r\n        return true;\r\n      });\r\n    }\r\n\r\n    setFilteredShows(results);\r\n  }, [query, location, startDate, endDate, applyDates, shows]);\r\n\r\n  return (\r\n    <div className=\"HomePageContainer\">\r\n      <h2>Welcome to the Home Page</h2>\r\n\r\n      <div className=\"filter-bar\">\r\n        <SearchBox query={query} setQuery={setQuery} />\r\n        <FilterBox location={location} setLocation={setLocation} />\r\n        <DateBox\r\n          startDate={startDate}\r\n          endDate={endDate}\r\n          setStartDate={setStartDate}\r\n          setEndDate={setEndDate}\r\n          onApply={() => setApplyDates(!applyDates)}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"shows-list\">\r\n        {filteredShows.length > 0 ? (\r\n          filteredShows.map((show) => (\r\n            <ShowCard key={show.showId} {...show} />\r\n          ))\r\n        ) : (\r\n          <p>No shows available</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}