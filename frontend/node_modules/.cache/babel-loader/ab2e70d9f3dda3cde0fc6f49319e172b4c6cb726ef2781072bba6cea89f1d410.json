{"ast":null,"code":"import React,{useState}from\"react\";import\"../styles/SeatPicker.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SeatPicker=_ref=>{let{showData,onSelect}=_ref;const[selectedSeats,setSelectedSeats]=useState([]);const{rowsNum,seatsPerRow,reservedSeats}=showData;// בניית כל המושבים לפי rowsNum + seats_per_row\nconst generateSeats=()=>{const seats=[];for(let row=1;row<=rowsNum;row++){for(let col=1;col<=seatsPerRow;col++){const isReserved=reservedSeats.some(s=>s.rowNum===row&&s.chairNum===col);seats.push({id:\"\".concat(row,\"-\").concat(col),row,col,reserved:isReserved});}}return seats;};const allSeats=generateSeats();console.log(allSeats);const handleClick=seat=>{if(seat.reserved)return;const isSelected=selectedSeats.some(s=>s.row===seat.row&&s.col===seat.col);let updated;if(isSelected){updated=selectedSeats.filter(s=>!(s.row===seat.row&&s.col===seat.col));}else{updated=[...selectedSeats,seat];}setSelectedSeats(updated);onSelect(updated);};const seatSize=Math.max(20,// גודל מינימלי\nMath.min(45,600/Math.max(rowsNum,seatsPerRow))// מחשב גודל לפי גודל האולם\n);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"seat-grid\",children:Array.from({length:rowsNum},(_,rowIndex)=>{const row=rowIndex+1;return/*#__PURE__*/_jsxs(\"div\",{className:\"seat-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"row-label\",children:row}),Array.from({length:seatsPerRow},(_,colIndex)=>{const col=colIndex+1;const isReserved=reservedSeats.some(s=>s.rowNum===row&&s.chairNum===col);const seat={id:\"\".concat(row,\"-\").concat(col),row,col,reserved:isReserved};return/*#__PURE__*/_jsx(\"div\",{className:\"seat \".concat(seat.reserved?\"reserved\":\"\",\" \").concat(selectedSeats.some(s=>s.row===seat.row&&s.col===seat.col)?\"selected\":\"\"),onClick:()=>handleClick(seat),style:{width:\"\".concat(seatSize,\"px\"),height:\"\".concat(seatSize,\"px\"),fontSize:\"\".concat(seatSize*0.4,\"px\")},children:col},seat.id);})]},row);})})});};export default SeatPicker;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","SeatPicker","_ref","showData","onSelect","selectedSeats","setSelectedSeats","rowsNum","seatsPerRow","reservedSeats","generateSeats","seats","row","col","isReserved","some","s","rowNum","chairNum","push","id","concat","reserved","allSeats","console","log","handleClick","seat","isSelected","updated","filter","seatSize","Math","max","min","children","className","Array","from","length","_","rowIndex","colIndex","onClick","style","width","height","fontSize"],"sources":["C:/Users/gavri/OneDrive/Desktop/My Projects/full-metal-shows/frontend/src/components/SeatPicker.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"../styles/SeatPicker.css\";\r\n\r\nconst SeatPicker = ({ showData, onSelect }) => {\r\n  const [selectedSeats, setSelectedSeats] = useState([]);\r\n  const { rowsNum, seatsPerRow, reservedSeats } = showData;\r\n\r\n\r\n  // בניית כל המושבים לפי rowsNum + seats_per_row\r\n  const generateSeats = () => {\r\n    const seats = [];\r\n    for (let row = 1; row <= rowsNum; row++) {\r\n      for (let col = 1; col <= seatsPerRow; col++) {\r\n        const isReserved = reservedSeats.some(\r\n          (s) => s.rowNum === row && s.chairNum === col\r\n        );\r\n        seats.push({\r\n          id: `${row}-${col}`,\r\n          row,\r\n          col,\r\n          reserved: isReserved,\r\n        });\r\n      }\r\n    }\r\n\r\n    return seats;\r\n  };\r\n\r\n  const allSeats = generateSeats();\r\n  console.log(allSeats)\r\n\r\n  const handleClick = (seat) => {\r\n    if (seat.reserved) return;\r\n\r\n    const isSelected = selectedSeats.some(\r\n      (s) => s.row === seat.row && s.col === seat.col\r\n    );\r\n\r\n    let updated;\r\n    if (isSelected) {\r\n      updated = selectedSeats.filter(\r\n        (s) => !(s.row === seat.row && s.col === seat.col)\r\n      );\r\n    } else {\r\n      updated = [...selectedSeats, seat];\r\n    }\r\n\r\n    setSelectedSeats(updated);\r\n    onSelect(updated);\r\n  };\r\n\r\n  const seatSize = Math.max(\r\n    20, // גודל מינימלי\r\n    Math.min(45, 600 / Math.max(rowsNum, seatsPerRow)) // מחשב גודל לפי גודל האולם\r\n  );\r\n\r\n  return (\r\n    <div>\r\n\r\n      <div className=\"seat-grid\">\r\n        {Array.from({ length: rowsNum }, (_, rowIndex) => {\r\n          const row = rowIndex + 1;\r\n          return (\r\n            <div key={row} className=\"seat-row\">\r\n              <span className=\"row-label\">{row}</span>\r\n              {Array.from({ length: seatsPerRow }, (_, colIndex) => {\r\n                const col = colIndex + 1;\r\n                const isReserved = reservedSeats.some(\r\n                  (s) => s.rowNum === row && s.chairNum === col\r\n                );\r\n                const seat = {\r\n                  id: `${row}-${col}`,\r\n                  row,\r\n                  col,\r\n                  reserved: isReserved,\r\n                };\r\n                return (\r\n                  <div\r\n                    key={seat.id}\r\n                    className={`seat ${seat.reserved ? \"reserved\" : \"\"} ${selectedSeats.some(\r\n                      (s) => s.row === seat.row && s.col === seat.col\r\n                    )\r\n                      ? \"selected\"\r\n                      : \"\"\r\n                      }`}\r\n                    onClick={() => handleClick(seat)}\r\n                    style={{\r\n                      width: `${seatSize}px`,\r\n                      height: `${seatSize}px`,\r\n                      fontSize: `${seatSize * 0.4}px`,\r\n                    }}\r\n                  >\r\n                    {col}\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SeatPicker;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}