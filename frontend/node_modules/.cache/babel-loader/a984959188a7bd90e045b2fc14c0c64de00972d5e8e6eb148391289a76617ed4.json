{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gavri\\\\OneDrive\\\\Desktop\\\\My Projects\\\\full-metal-shows\\\\frontend\\\\src\\\\components\\\\SeatPicker.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport \"../styles/SeatPicker.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SeatPicker = ({\n  showData,\n  onSelect\n}) => {\n  _s();\n  const [selectedSeats, setSelectedSeats] = useState([]);\n  const {\n    rowsNum,\n    seatsPerRow,\n    reservedSeats\n  } = showData;\n\n  // בניית כל המושבים לפי rowsNum + seats_per_row\n  const generateSeats = () => {\n    const seats = [];\n    for (let row = 1; row <= rowsNum; row++) {\n      for (let col = 1; col <= seatsPerRow; col++) {\n        const isReserved = reservedSeats.some(s => s.rowNum === row && s.chairNum === col);\n        seats.push({\n          id: `${row}-${col}`,\n          row,\n          col,\n          reserved: isReserved\n        });\n      }\n    }\n    return seats;\n  };\n  const allSeats = generateSeats();\n  console.log(allSeats);\n  const handleClick = seat => {\n    if (seat.reserved) return;\n    const isSelected = selectedSeats.some(s => s.row === seat.row && s.col === seat.col);\n    let updated;\n    if (isSelected) {\n      updated = selectedSeats.filter(s => !(s.row === seat.row && s.col === seat.col));\n    } else {\n      updated = [...selectedSeats, seat];\n    }\n    setSelectedSeats(updated);\n    onSelect(updated);\n  };\n  const seatSize = Math.max(20,\n  // גודל מינימלי\n  Math.min(45, 600 / Math.max(rowsNum, seatsPerRow)) // מחשב גודל לפי גודל האולם\n  );\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"seat-grid\",\n      children: Array.from({\n        length: rowsNum\n      }, (_, rowIndex) => {\n        const row = rowIndex + 1;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"seat-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"row-label\",\n            children: row\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 15\n          }, this), Array.from({\n            length: seatsPerRow\n          }, (_, colIndex) => {\n            const col = colIndex + 1;\n            const isReserved = reservedSeats.some(s => s.rowNum === row && s.chairNum === col);\n            const seat = {\n              id: `${row}-${col}`,\n              row,\n              col,\n              reserved: isReserved\n            };\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `seat ${seat.reserved ? \"reserved\" : \"\"} ${selectedSeats.some(s => s.row === seat.row && s.col === seat.col) ? \"selected\" : \"\"}`,\n              onClick: () => handleClick(seat),\n              children: col\n            }, seat.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 19\n            }, this);\n          })]\n        }, row, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(SeatPicker, \"719BDGh7cghELHC633nLqtHtbBo=\");\n_c = SeatPicker;\nexport default SeatPicker;\nvar _c;\n$RefreshReg$(_c, \"SeatPicker\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","SeatPicker","showData","onSelect","_s","selectedSeats","setSelectedSeats","rowsNum","seatsPerRow","reservedSeats","generateSeats","seats","row","col","isReserved","some","s","rowNum","chairNum","push","id","reserved","allSeats","console","log","handleClick","seat","isSelected","updated","filter","seatSize","Math","max","min","children","className","Array","from","length","_","rowIndex","fileName","_jsxFileName","lineNumber","columnNumber","colIndex","onClick","_c","$RefreshReg$"],"sources":["C:/Users/gavri/OneDrive/Desktop/My Projects/full-metal-shows/frontend/src/components/SeatPicker.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"../styles/SeatPicker.css\";\r\n\r\nconst SeatPicker = ({ showData, onSelect }) => {\r\n  const [selectedSeats, setSelectedSeats] = useState([]);\r\n  const { rowsNum, seatsPerRow, reservedSeats } = showData;\r\n\r\n\r\n  // בניית כל המושבים לפי rowsNum + seats_per_row\r\n  const generateSeats = () => {\r\n    const seats = [];\r\n    for (let row = 1; row <= rowsNum; row++) {\r\n      for (let col = 1; col <= seatsPerRow; col++) {\r\n        const isReserved = reservedSeats.some(\r\n          (s) => s.rowNum === row && s.chairNum === col\r\n        );\r\n        seats.push({\r\n          id: `${row}-${col}`,\r\n          row,\r\n          col,\r\n          reserved: isReserved,\r\n        });\r\n      }\r\n    }\r\n\r\n    return seats;\r\n  };\r\n\r\n  const allSeats = generateSeats();\r\n  console.log(allSeats)\r\n\r\n  const handleClick = (seat) => {\r\n    if (seat.reserved) return;\r\n\r\n    const isSelected = selectedSeats.some(\r\n      (s) => s.row === seat.row && s.col === seat.col\r\n    );\r\n\r\n    let updated;\r\n    if (isSelected) {\r\n      updated = selectedSeats.filter(\r\n        (s) => !(s.row === seat.row && s.col === seat.col)\r\n      );\r\n    } else {\r\n      updated = [...selectedSeats, seat];\r\n    }\r\n\r\n    setSelectedSeats(updated);\r\n    onSelect(updated);\r\n  };\r\n\r\n   const seatSize = Math.max(\r\n    20, // גודל מינימלי\r\n    Math.min(45, 600 / Math.max(rowsNum, seatsPerRow)) // מחשב גודל לפי גודל האולם\r\n  );\r\n\r\n  return (\r\n    <div>\r\n\r\n\r\n\r\n\r\n      <div className=\"seat-grid\">\r\n        {Array.from({ length: rowsNum }, (_, rowIndex) => {\r\n          const row = rowIndex + 1;\r\n          return (\r\n            <div key={row} className=\"seat-row\">\r\n              <span className=\"row-label\">{row}</span>\r\n              {Array.from({ length: seatsPerRow }, (_, colIndex) => {\r\n                const col = colIndex + 1;\r\n                const isReserved = reservedSeats.some(\r\n                  (s) => s.rowNum === row && s.chairNum === col\r\n                );\r\n                const seat = {\r\n                  id: `${row}-${col}`,\r\n                  row,\r\n                  col,\r\n                  reserved: isReserved,\r\n                };\r\n                return (\r\n                  <div\r\n                    key={seat.id}\r\n                    className={`seat ${seat.reserved ? \"reserved\" : \"\"} ${selectedSeats.some(\r\n                      (s) => s.row === seat.row && s.col === seat.col\r\n                    )\r\n                        ? \"selected\"\r\n                        : \"\"\r\n                      }`}\r\n                    onClick={() => handleClick(seat)}\r\n                  >\r\n                    {col}\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SeatPicker;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}