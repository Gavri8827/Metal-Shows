{"ast":null,"code":"import React,{useState}from\"react\";import\"../styles/SeatPicker.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SeatPicker=_ref=>{let{showData,onSelect}=_ref;const[selectedSeats,setSelectedSeats]=useState([]);const{rowsNum,seatsPerRow,reservedSeats}=showData;// בניית כל המושבים לפי rowsNum + seats_per_row\nconst generateSeats=()=>{const seats=[];for(let row=1;row<=rowsNum;row++){for(let col=1;col<=seatsPerRow;col++){const isReserved=reservedSeats.some(s=>s.rowNum===row&&s.chairNum===col);seats.push({id:\"\".concat(row,\"-\").concat(col),row,col,reserved:isReserved});}}return seats;};const allSeats=generateSeats();console.log(allSeats);const handleClick=seat=>{if(seat.reserved)return;const isSelected=selectedSeats.some(s=>s.row===seat.row&&s.col===seat.col);let updated;if(isSelected){updated=selectedSeats.filter(s=>!(s.row===seat.row&&s.col===seat.col));}else{updated=[...selectedSeats,seat];}setSelectedSeats(updated);onSelect(updated);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"legend\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"dot available\"}),\" Available\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"dot reserved\"}),\" Taken\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"dot selected\"}),\" Selected\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"stage\",children:\"STAGE\"}),/*#__PURE__*/_jsx(\"div\",{className:\"seat-grid\",children:Array.from({length:rowsNum},(_,rowIndex)=>{const row=rowIndex+1;return/*#__PURE__*/_jsxs(\"div\",{className:\"seat-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"row-label\",children:row}),Array.from({length:seatsPerRow},(_,colIndex)=>{const col=colIndex+1;const isReserved=reservedSeats.some(s=>s.rowNum===row&&s.chairNum===col);const seat={id:\"\".concat(row,\"-\").concat(col),row,col,reserved:isReserved};return/*#__PURE__*/_jsx(\"div\",{className:\"seat \".concat(seat.reserved?\"reserved\":\"\",\" \").concat(selectedSeats.some(s=>s.row===seat.row&&s.col===seat.col)?\"selected\":\"\"),onClick:()=>handleClick(seat),children:col},seat.id);})]},row);})})]});};export default SeatPicker;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","SeatPicker","_ref","showData","onSelect","selectedSeats","setSelectedSeats","rowsNum","seatsPerRow","reservedSeats","generateSeats","seats","row","col","isReserved","some","s","rowNum","chairNum","push","id","concat","reserved","allSeats","console","log","handleClick","seat","isSelected","updated","filter","children","className","Array","from","length","_","rowIndex","colIndex","onClick"],"sources":["C:/Users/gavri/OneDrive/Desktop/My Projects/full-metal-shows/frontend/src/components/SeatPicker.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport \"../styles/SeatPicker.css\";\r\n\r\nconst SeatPicker = ({ showData, onSelect }) => {\r\nconst [selectedSeats, setSelectedSeats] = useState([]);\r\nconst { rowsNum, seatsPerRow, reservedSeats } = showData;\r\n\r\n\r\n  // בניית כל המושבים לפי rowsNum + seats_per_row\r\n  const generateSeats = () => {\r\n    const seats = [];\r\n   for (let row = 1; row <= rowsNum; row++) {\r\n  for (let col = 1; col <= seatsPerRow; col++) {\r\n    const isReserved = reservedSeats.some(\r\n      (s) => s.rowNum === row && s.chairNum === col\r\n    );\r\n    seats.push({\r\n      id: `${row}-${col}`,\r\n      row,\r\n      col,\r\n      reserved: isReserved,\r\n    });\r\n  }\r\n}\r\n\r\n    return seats;\r\n  };\r\n\r\n  const allSeats = generateSeats();\r\n  console.log(allSeats)\r\n\r\n  const handleClick = (seat) => {\r\n    if (seat.reserved) return;\r\n\r\n    const isSelected = selectedSeats.some(\r\n      (s) => s.row === seat.row && s.col === seat.col\r\n    );\r\n\r\n    let updated;\r\n    if (isSelected) {\r\n      updated = selectedSeats.filter(\r\n        (s) => !(s.row === seat.row && s.col === seat.col)\r\n      );\r\n    } else {\r\n      updated = [...selectedSeats, seat];\r\n    }\r\n\r\n    setSelectedSeats(updated);\r\n    onSelect(updated);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"legend\">\r\n        <span><span className=\"dot available\" /> Available</span>\r\n        <span><span className=\"dot reserved\" /> Taken</span>\r\n        <span><span className=\"dot selected\" /> Selected</span>\r\n      </div>\r\n\r\n      <div className=\"stage\">STAGE</div>\r\n\r\n      <div className=\"seat-grid\">\r\n  {Array.from({ length: rowsNum }, (_, rowIndex) => {\r\n    const row = rowIndex + 1;\r\n    return (\r\n      <div key={row} className=\"seat-row\">\r\n        <span className=\"row-label\">{row}</span>\r\n        {Array.from({ length: seatsPerRow }, (_, colIndex) => {\r\n          const col = colIndex + 1;\r\n          const isReserved = reservedSeats.some(\r\n            (s) => s.rowNum === row && s.chairNum === col\r\n          );\r\n          const seat = {\r\n            id: `${row}-${col}`,\r\n            row,\r\n            col,\r\n            reserved: isReserved,\r\n          };\r\n          return (\r\n            <div\r\n              key={seat.id}\r\n              className={`seat ${seat.reserved ? \"reserved\" : \"\"} ${\r\n                selectedSeats.some(\r\n                  (s) => s.row === seat.row && s.col === seat.col\r\n                )\r\n                  ? \"selected\"\r\n                  : \"\"\r\n              }`}\r\n              onClick={() => handleClick(seat)}\r\n            >\r\n              {col}\r\n            </div>\r\n                );\r\n              })}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SeatPicker;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}