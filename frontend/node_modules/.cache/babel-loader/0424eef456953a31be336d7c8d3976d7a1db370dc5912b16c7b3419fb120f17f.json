{"ast":null,"code":"import _objectSpread from\"C:/Users/gavri/OneDrive/Desktop/My Projects/full-metal-shows/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import'../styles/AddNewHall.css';import Modal from'../components/Modal';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AddNewHall(){const[form,setForm]=useState({hallName:'',country:'',city:'',street:'',rowsNum:'',seatsPerRow:''});const[message,setMessage]=useState('');const handleChange=e=>{const{name,value,type}=e.target;setForm(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:type==='number'?parseInt(value)||'':value}));};const handleSubmit=async e=>{e.preventDefault();const totalSeats=(form.rowsNum||0)*(form.seatsPerRow||0);const hallData=_objectSpread(_objectSpread({},form),{},{totalSeats});try{const res=await fetch('/api/halls',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(hallData)});const data=await res.json();if(!res.ok){throw new Error(data.message||'Failed to save hall');}setMessage('Hall added successfully!');setForm({hallName:'',country:'',city:'',street:'',rowsNum:'',seatsPerRow:''});}catch(err){console.error(err);setMessage('Error adding hall');}};const fields=[{label:'Hall name',name:'hallName',type:'text'},{label:'Country',name:'country',type:'select'},{label:'City',name:'city',type:'text'},{label:'Street',name:'street',type:'text'},{label:'Rows number',name:'rowsNum',type:'number'},{label:'Seats per row',name:'seatsPerRow',type:'number'}];return/*#__PURE__*/_jsxs(\"div\",{className:\"add-hall-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Add New Hall\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"add-hall-form\",onSubmit:handleSubmit,children:[fields.map(_ref=>{let{label,name,type}=_ref;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:name,children:[label,\":\"]}),type==='select'?/*#__PURE__*/_jsxs(\"select\",{id:name,name:name,value:form[name],onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Israel\",children:\"Israel\"}),/*#__PURE__*/_jsx(\"option\",{value:\"USA\",children:\"USA\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Europe\",children:\"Europe\"})]}):/*#__PURE__*/_jsx(\"input\",_objectSpread({type:type,id:name,name:name,value:form[name],onChange:handleChange,required:true},type===\"number\"?{min:0,onKeyDown:e=>e.key==='-'&&e.preventDefault()}:{}))]},name);}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Hall\"}),/*#__PURE__*/_jsx(Modal,{message:message,onClose:()=>setMessage('')})]})]});}","map":{"version":3,"names":["React","useState","Modal","jsx","_jsx","jsxs","_jsxs","AddNewHall","form","setForm","hallName","country","city","street","rowsNum","seatsPerRow","message","setMessage","handleChange","e","name","value","type","target","prev","_objectSpread","parseInt","handleSubmit","preventDefault","totalSeats","hallData","res","fetch","method","headers","body","JSON","stringify","data","json","ok","Error","err","console","error","fields","label","className","children","onSubmit","map","_ref","htmlFor","id","onChange","required","min","onKeyDown","key","onClose"],"sources":["C:/Users/gavri/OneDrive/Desktop/My Projects/full-metal-shows/frontend/src/pages/AddNewHall.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport '../styles/AddNewHall.css';\r\nimport Modal from '../components/Modal';\r\n\r\nexport default function AddNewHall() {\r\n  const [form, setForm] = useState({\r\n    hallName: '',\r\n    country: '',\r\n    city: '',\r\n    street: '',\r\n    rowsNum: '',\r\n    seatsPerRow: ''\r\n  });\r\n\r\n  const [message, setMessage] = useState('');\r\n\r\n  const handleChange = e => {\r\n    const { name, value, type } = e.target;\r\n    setForm(prev => ({\r\n      ...prev,\r\n      [name]: type === 'number' ? parseInt(value) || '' : value\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n\r\n    const totalSeats = (form.rowsNum || 0) * (form.seatsPerRow || 0);\r\n\r\n    const hallData = {\r\n      ...form,\r\n      totalSeats\r\n    };\r\n\r\n    try {\r\n      const res = await fetch('/api/halls', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(hallData),\r\n      });\r\n\r\n      const data = await res.json();\r\n      if (!res.ok) {\r\n        throw new Error(data.message || 'Failed to save hall');\r\n      }\r\n\r\n      setMessage('Hall added successfully!');\r\n      setForm({\r\n        hallName: '',\r\n        country: '',\r\n        city: '',\r\n        street: '',\r\n        rowsNum: '',\r\n        seatsPerRow: ''\r\n      });\r\n    } catch (err) {\r\n      console.error(err);\r\n      setMessage('Error adding hall');\r\n    }\r\n  };\r\n\r\n  const fields = [\r\n    { label: 'Hall name', name: 'hallName', type: 'text' },\r\n    { label: 'Country', name: 'country', type: 'select' },\r\n    { label: 'City', name: 'city', type: 'text' },\r\n    { label: 'Street', name: 'street', type: 'text' },\r\n    { label: 'Rows number', name: 'rowsNum', type: 'number' },\r\n    { label: 'Seats per row', name: 'seatsPerRow', type: 'number' },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"add-hall-container\">\r\n      <h1>Add New Hall</h1>\r\n      \r\n      <form className=\"add-hall-form\" onSubmit={handleSubmit}>\r\n        {fields.map(({ label, name, type }) => (\r\n          <div key={name}>\r\n            <label htmlFor={name}>{label}:</label>\r\n\r\n            {type === 'select' ? (\r\n              <select\r\n                id={name}\r\n                name={name}\r\n                value={form[name]}\r\n                onChange={handleChange}\r\n                required\r\n              >\r\n                <option value=\"\">Select</option>\r\n                <option value=\"Israel\">Israel</option>\r\n                <option value=\"USA\">USA</option>\r\n                <option value=\"Europe\">Europe</option>\r\n              </select>\r\n            ) : (\r\n              <input\r\n                type={type}\r\n                id={name}\r\n                name={name}\r\n                value={form[name]}\r\n                onChange={handleChange}\r\n                required\r\n                {...(type === \"number\" ? { min: 0, onKeyDown: (e) => e.key === '-' && e.preventDefault() } : {})}\r\n              />\r\n            )}\r\n          </div>\r\n        ))}\r\n\r\n        <button type=\"submit\">Add Hall</button>\r\n         <Modal message={message} onClose={() => setMessage('')} />\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}